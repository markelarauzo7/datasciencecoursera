help(survey)
??survey
smt<-read.spss(file="SMT data 18jan.sav", to.data.frame=T)
load("~/.RData")
survey<-"EWCS2015"
ls
ls()
load("C:/Users/marauzo/Desktop/.RData")
ls
ls()
install.packages("foreign")
install.packages("sqldf")
install.packages("gdata")
View(countries.code.name)
View(countries.code.name)
View(countries.code.name)
print(countries.code.name)
getwd()
rm(list = ls())
setwd("C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/")
list.files()
hospital-data <- read.csv("hospital-data.csv")
hospital_data <- read.csv("hospital-data.csv")
hospital_data
dim(hospital_data)
colnames(hospital_data)
head(hospital_data)
summary(hospital_data)
str(hospital_data)
list.files(9)
list.files()
care_measures <- read.csv("outcome-of-care-measures.csv")
head(care_measures)
str(care_measures)
summary(care_measures)
rm(list = ls())
outcome <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcome[, 11] <- as.numeric(outcome[, 11])
hist(outcome[,11])
outcome[,11]
cat("\014")
outcome_data <- read.csv(outcome.csv)
list.files()
outcome_data <- read.csv(outcome-of-care-measures.csv)
outcome_data <- read.csv("outcome-of-care-measures.csv")
rm(outcome)
colnames(outcome_data)
hospital_names <- unique(outcome_data[,2])
hospital_names
rm(hospital_names)
colnames(outcome_data)
outcome_data$County.Name
unique(outcome_data$County.Name)
list.files
list.files(9)
list.files()
hospital_data <- read.csv("hospital-data.csv")
colnames(hospital_data)
hospital_data[,9]
colnames(hospital_data)
hospital_data[,8]
colnames(hospital_data)
?levels
levels(hospital_data[,8])
levels(hospital_data[,7])
state_codes <- levels(hospital_data[,7])
cat("\014")
class(state_codes)
state_codes['TX']
match('TX',state_codes)
!48
!0
?stop
match('XD',state_codes)
'TX' %in% state_codes
'XD' %in% state_codes
outcome_list <- c(“heart attack”, “heart failure”, “pneumonia”)
colnames(outcome_data)
outcome_list
outcome_list <- c("heart attack","heart failure","pneumonia")
outcome_list[1]
chosen_death_rate <- outcome_data[,23]
head(chosen_death_rate)
chosen_death_rate <- outcome_data[,c(2,23)]
head(chosen_death_rate)
summary(chosen_death_rate)
str(chosen_death_rate)
?head
head(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, n = 100)
is.list(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
is.vector(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
is.factor(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
is.character(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
lowest_rate <- min(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
lowest_rate <- min(as.numeric(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia))
?factor
factor(13.0)
a <- factor(13.0)
min(as.numeric(a))
rm(a)
rm(lowest_rate)
?levels
a <- factor(12.4)
a[1]
a[2]
b <- levels(a)
b
class(b)
c <- levels(chosen_death_rate$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia)
class(c)
min(c)
c[min(c)]
c[10.0]
?sapply
factor(13)
d<-factor(13)
as.numeric(d)
values <- as.numeric(as.character(c))
d <- factor(c("1","2"))
as.numeric(d)
e <- factor(c(1,2))
as.numeric(e)
str(values)
head(c)
head(chosen_death_rate)
chosen_death_rate[as.numeric(as.character(levels(chosen_death_rate[,2]))),]
colnames(chosen_death_rate)
chosen_death_rate[min(as.numeric(as.character(levels(chosen_death_rate[,2])))),]
chosen_death_rate[chosen_death_rate[1,] == min(as.numeric(as.character(levels(chosen_death_rate[,2])))),]
dim(chosen_death_rate)
values <- as.numeric(as.character(levels(chosen_death_rate[,2])))
values
min(values)
values <- values[values != NA]
values
values <- as.numeric(as.character(levels(chosen_death_rate[,2])))
values
values != NA
values == NA
values <- values[!is.na(values)]
values
test <- chosen_death_rate[chosen_death_rate[1,] == min(values),]
test
test <- chosen_death_rate[chosen_death_rate[,2] == min(values),]
test
min(values)
class(test)
nrow(test)
test[1]
dim(test)
test["Hospital.Name"]
print(test["Hospital.Name"])
?order
a <- c('a','c','b')
order(a)
sort.list(a)
test[order(rownames(test)),]
a[order(rownames(a)),]
class(a)
a[order(a)]
order(test)
test[order(rownames(test)),]
install.packages(c("boot", "class", "cluster", "codetools", "colorspace", "DBI", "digest", "foreign", "lattice", "manipulate", "MASS", "Matrix", "mgcv", "nlme", "nnet", "R6", "Rcpp", "shiny", "spatial", "stringi", "stringr", "survival"))
library("bitops", lib.loc="C:/Program Files/R/R-3.2.2/library")
detach("package:bitops", unload=TRUE)
?parallel
?plyr
??parallel
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/best.R')
best("TX", "heart attack")
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/best.R')
best("TX", "heart attack")
list.files()
ot <- read.csv("outcome-of-care-measures.csv")
colnames(ot)
case<-ot[,11]
case<-ot[,c(2,11)]
case
write(case)
?write
class(case)
write.table(case)
write.table(case)
?write.table
write.table(case,file="data")
write.table(case,file="data.csv")
?write.table
write.csv2(case,file="data.csv")
write.csv2(case,file="data.csv")
best("TX", "heart failure")
case<-chosen_death_rate <- outcome_data[,c(2,17)]
case<-chosen_death_rate <- ot[,c(2,17)]
write.csv2(case,file="heart failure.csv")
cat("\014")
outcome_data <- ot
rm(ot)
rm(case)
rm(chosen_death_rate)
chosen_death_rate
chosen_death_rate <- outcome_data[,c(2,11)]
chosen_death_rate
hospital_data <- read.csv("hospital-data.csv")
state_codes <- levels(hospital_data[,7])
state_codes
colnames(hospital_data)
colnames(outcome_data)
rm(hospital_data)
state <- "TX"
outcome_data <- outcome_data[,levels(outcome_data[,7]) == state]
outcome_data
dim(outcome_data)
head(outcome_data)
outcome_data <- read.csv("outcome-of-care-measures.csv")
outcome_data[,7]
colnames(outcome_data)
outcome_data[,7]
outcome_data <- outcome_data[,outcome_data[,"State"] == state]
outcome_data[,"State"]
outcome_data[,"State"] == 'TX'
test <- outcome_data[,outcome_data[,"State"] == state]
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
outcome_data <- read.csv("outcome-of-care-measures.csv")
test <- outcome_data[outcome_data[,"State"] == state,]
test
nrow(test)
dim(test)
test <- test[,c(2,11)]
rm(list = ls())
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
state <- "TX"
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
best_hospitals <- values_dt[values_dt[,2] == min(values_dt[,2]),]
print(best_hospitals["Hospital.Name"])
best_hospitals <- cbind(best_hospitals,c(Hospital.Name = "SOUTHEAST ALABAMA MEDICAL CENTER
", Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack = 12))
best_hospitals
best_hospitals <- values_dt[values_dt[,2] == min(values_dt[,2]),]
best_hospitals
best_hospitals <- rbind(best_hospitals,c(Hospital.Name = "SOUTHEAST ALABAMA MEDICAL CENTER
", Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack = 12))
best_hospitals
best_hospitals[2,1] <- "SOUTHEAST ALABAMA MEDICAL CENTER"
best_hospitals
ordered_best_hospitals <- best_hospitals[order(rownames(best_hospitals)),]
ordered_best_hospitals
?order
ordered_best_hospitals <- best_hospitals[order(rownames(best_hospitals,decreasing = TRUE)),]
ordered_best_hospitals <- best_hospitals[order(rownames(best_hospitals),decreasing = TRUE),]
ordered_best_hospitals
best_hospitals <- rbind(best_hospitals,c(Hospital.Name = "MARSHALL MEDICAL CENTER SOUTH", Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack = 12))
best_hospitals
ordered_best_hospitals <- best_hospitals[order(rownames(best_hospitals),decreasing = TRUE),]
ordered_best_hospitals
values_dt <- values_dt[!is.na(values_dt[,2]),]
values_dt
rownames(best_hospitals)
order(rownames(best_hospitals))
order(colnames(best_hospitals))
colnames(best_hospitals)
ordered_best_hospitals
best_hospitals <- rbind(best_hospitals,c(Hospital.Name = "CRENSHAW COMMUNITY HOSPITAL",Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack = 12))
best_hospitals
ordered_best_hospitals <- best_hospitals[order(rownames(best_hospitals),decreasing = TRUE),]
ordered_best_hospitals
colnames(best_hospitals)
test <- best_hospitals[,order(rownames(best_hospitals),decreasing = TRUE)]
test <- best_hospitals[,order(colnames(best_hospitals),decreasing = TRUE)]
test
best_hospitals_2 <- best_hospitals
best_hospitals_2[2,2] <- 14
best_hospitals_2[3,2] <- 15
best_hospitals_2[4,2] <- 5
best_hospitals_2
test <- best_hospitals_2[,order(colnames(best_hospitals),decreasing = TRUE)]
test
?with
test <- best_hospitals_2[with(best_hospitals_2,order(best_hospitals_2[,2])),]
test
best_hospitals_2
RSiteSearch("sort dataframe")
test <- best_hospitals_2[order(best_hospitals_2[,2]),]
test
?order
order(rownames(best_hospitals_2))
order(rownames(best_hospitals_2[,2]))
order(best_hospitals_2[,2])
best_hospitals_2[,2]
order(best_hospitals_2[,2])
order(best_hospitals_2[,2],decreasing = TRUE)
best_hospitals_2[order(best_hospitals_2[,2]),]
class(best_hospitals_2[,2])
best_hospitals_2[order(as.numeric(best_hospitals_2[,2])),]
ordered_best_hospitals <- best_hospitals[order(best_hospitals[,1],decreasing = TRUE),]
ordered_best_hospitals
ordered_best_hospitals <- best_hospitals[order(best_hospitals[,1]),]
ordered_best_hospitals
values_dt <- values_dt[!is.na(values_dt[,2]),]
values_dt
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2])),]
hospitals_ordered
cat("\014")
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/best.R')
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/best.R')
best("TX","heart attack")
best("TX", "heart failure")
best("MD", "heart attack")
best("MD", "pneumonia")
best("BB", "heart attack")
best("NY", "hert attack")
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/rankhospital.R')
state <- "TX"
num <- 4
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,17)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2])),]
hospitals_ordered
print(hospitals_ordered[num,1])
write.csv2(hospitals_ordered,file = paste(state,num,".csv",sep = ""),sep = ";")
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
write.csv2(hospitals_ordered,file = paste(state,num,".csv",sep = ""),sep = ";")
print(hospitals_ordered[num,1])
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/rankhospital.R')
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
rankhospital("MN", "heart attack", 5000)
?dataframe
?data.frame
?write.csv2
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
data.frame()
a <- data.frame()
a <- rbind(a,c(1,2))
a
a <- cbind(a,c(1,2))
q
a
b <- data.frame()
b <- cbind(b,c(1,2))
b
b <- cbind(c(1,2))
b
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/rankall.R')
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/rankall.R')
rm(rankhospital())
rm(rankhospital
)
head(rankall("heart attack", 20), 10)
state_codes <- levels(outcome_data[,"State"])
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
state <- "TX"
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
hospitals_ordered
state <- "AL"
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
num <- 20
print(hospitals_ordered[num,1])
rm(list= ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/best.R')
best("SC", "heart attack")
best("NY", "pneumonia")
best("AK", "pneumonia")
rm(list = ls())
source('C:/Users/marauzo/Desktop/Workspace R/coursera/assignment/rankhospital.R')
rankhospital("NC", "heart attack", "worst")
rankhospital("WA", "heart attack", 7)
rankhospital("TX", "pneumonia", 10)
rankhospital("NY", "heart attack", 7)
?subset
rm(list = ls())
state <- "HI"
num <- 4
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,11)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
print(hospitals_ordered[num,1])
num <- "worst"
state <- "NJ"
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <-  outcome_data[,c(2,23)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
print(hospitals_ordered[nrow(hospitals_ordered),1])
state <- "NV"
num <- 10
outcome_data <- read.csv("outcome-of-care-measures.csv")
state_codes <- levels(outcome_data[,"State"])
disease_list <- c("heart attack","heart failure","pneumonia")
outcome_data <- outcome_data[outcome_data[,"State"] == state,]
chosen_death_rate <- outcome_data[,c(2,17)]
values_dt <- chosen_death_rate
values_dt[,2] <- as.character(values_dt[,2])
values_dt[,2] <- as.numeric(values_dt[,2])
values_dt <- values_dt[!is.na(values_dt[,2]),]
hospitals_ordered <- values_dt[order(as.numeric(values_dt[,2]),values_dt[,1]),]
print(hospitals_ordered[num,1])
rm(list = ls())
library(swirl)
install_from_swirl("Getting and Cleaning Data")
swirl()
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file(fileUrl,destfile = "abc.csv", method = "curl")
list.files()
download.file(fileUrl,destfile = "abc.csv")
?download.file
downloadDate <- date()
fichero <- read.csv("abc.csv")
head(fichero)
fileURL2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileURL2,"fichero2.xlsx")
colIndex <- c(18:23)
rowIndex <- c(18:23)
colIndex <- c(7:15)
library(xlsx)
library('xlsx')
install.packages('xlsx')
library('xlsx')
dat <- read.xlsx('fichero2.xlsx',sheetIndex = 1,colIndex = colIndex,rowIndex = rowIndex)
download.file(fileURL2,"fichero2.xlsx",mode = 'wb')
dat <- read.xlsx('fichero2.xlsx',sheetIndex = 1,colIndex = colIndex,rowIndex = rowIndex)
sum(dat$Zip*dat$Ext,na.rm=T)
install.packages('XML')
library('XML')
fileURL3 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
fichero3 <- xmlTreeParse(fileURL3,useInternal = TRUE)
fichero3 <- xmlTreeParse(fileURL3,useInternalNodes = TRUE)
fichero3 <- xmlTreeParse(fileURL3)
fichero3 <- xmlInternalTreeParse(fileURL3)
fileURL3 <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
fichero3 <- xmlTreeParse(fileURL3)
str(fichero3)
rootNode <- xmlRoot(fichero3)
fileURL4 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileURL4,destfile = "fichero4.csv")
?fread()
rm(list = ls())
server <- function(input, output) {
output$distPlot <- renderPlot({
hist(rnorm(input$obs), col = 'darkgray', border = 'white')
})
}
ui <- fluidPage(
sidebarLayout(
sidebarPanel(
sliderInput("obs", "Number of observations:", min = 10, max = 500, value = 100)
),
mainPanel(plotOutput("distPlot"))
)
)
shinyApp(ui = ui, server = server)
R.home()
